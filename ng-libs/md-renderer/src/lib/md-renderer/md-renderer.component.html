<div class="mobile-navigation">
  <pj-mdr-mobile-toc
    [sections]="sections()"
    [inViewSectionId]="intersectingSectionId()"
    (sectionClick)="onNavigationClick($event)"
  ></pj-mdr-mobile-toc>
</div>

<div class="markdown-document">
  <div class="markdown-navigation">
    @defer {
      <pj-mdr-table-of-contents
        [sections]="sections()"
        [inViewSectionId]="intersectingSectionId()"
        (sectionClick)="onNavigationClick($event)"
      />
    } @placeholder {
      <div class="navigation-placeholder"></div>
    }
  </div>
  <div class="markdown-contents">
    @for (section of sections(); track section.id) {
      <div #sectionAnchor id="{{ section.id }}"></div>
      <div class="section-container">
        @defer {
          <pj-mdr-md-section [content]="section"></pj-mdr-md-section>
        } @placeholder {
          <div class="placeholder"></div>
        }
      </div>
    }
  </div>
</div>
