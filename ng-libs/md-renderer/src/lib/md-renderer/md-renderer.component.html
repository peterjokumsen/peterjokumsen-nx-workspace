<div class="mobile-navigation">
  <h2>Table of contents</h2>
  @defer {
    <pj-mdr-table-of-contents
      [sections]="sections()"
      (sectionClick)="onNavigationClick($event)"
    />
  } @placeholder {
    <div class="navigation-placeholder"></div>
  }
</div>

<div class="markdown-document">
  <div class="markdown-navigation">
    @defer {
      <pj-mdr-table-of-contents
        [sections]="sections()"
        [inViewSectionId]="intersectingSectionId()"
        (sectionClick)="onNavigationClick($event)"
      />
    } @placeholder {
      <div class="navigation-placeholder"></div>
    }
  </div>
  <div class="markdown-contents">
    @for (section of sections(); track section.id) {
      <div #sectionAnchor id="{{ section.id }}"></div>
      <div class="section-container">
        @defer {
          <pj-mdr-md-section [content]="section"></pj-mdr-md-section>
        } @placeholder {
          <div class="placeholder"></div>
        }
      </div>
    }
  </div>
</div>
